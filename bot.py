import telebot
import random
from telebot import types

TOKEN = "7827604200:AAHkU80SAMXkBoKMj2sZJ0YPuA8T9uJmVZs"
bot = telebot.TeleBot(TOKEN)


# ===== –î–∞–Ω–Ω—ã–µ –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö (MineShield IV) =====
def _norm(s: str) -> str:
    return "".join(s.lower().split()) if isinstance(s, str) else ""

INFO = {
    # –ò—Å—Ç–æ—á–Ω–∏–∫: https://mineshield.fandom.com/ru/wiki/MineShield_IV (—É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏)
    "Alcest M": [
        "–ù–∞—Ö–æ–¥–∏–ª –∑–∞–≥–∞–¥–æ—á–Ω—ã–µ –∑–∞–ø–∏—Å–∫–∏",
        "–í—ë–ª –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –Ω–∞ —Ä–∞–¥–∏–æ—Ç–µ–ª–µ—Å–∫–æ–ø–µ",
        "–ó–∞–º–µ—á–∞–ª –º–µ—Ç–µ–æ—Ä–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–∞–¥–∏–æ",
        "–ï–≥–æ —Ä–∞–¥–∏–æ—Ç–µ–ª–µ—Å–∫–æ–ø —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∫–æ–º–µ—Ç–∞—Ö",
        "–ü–æ–ª—É—á–∞–ª ‚Äò–∑–∞–ø–∏—Å–∫—É‚Äô —Å—Ä–µ–¥–∏ –ø–µ—Ä–≤—ã—Ö",
    ],
    "Alfedov": [
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –≤–æ–π–¥–∞",
        "–ó–∞–º–µ—á–∞–ª –ø—Ä–æ–ª—ë—Ç –±–µ–ª—ã—Ö –∫–æ–º–µ—Ç",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏ –ø–æ –∫–∞—Ä—Ç–µ –ø–æ—Ä—Ç–∞–ª–æ–≤",
    ],
    "Arlabus": [
        "–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª –ß–°–í–ñ–î ‚Äî –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∏–∫–æ–≤",
        "–ó–∞–Ω–∏–º–∞–ª—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –æ—Å—Ç—Ä–æ–≤–∞",
    ],
    "BarsiGold": [
        "–û–±–Ω–∞—Ä—É–∂–∏–ª –ø–µ—Ä–µ–Ω–æ—Å –ø–æ—Ä—Ç–∞–ª–∞ –≤ –ù–µ–∑–µ—Ä–µ –≤ –≤–æ–π–¥",
        "–ù–∞—à—ë–ª –∫–∞—Ä—Ç—É, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ø–∞–ª–∏ –≤ –≠–Ω–¥",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ ‚Äò–≤–æ–π–¥‚Äô –∏–∑–º–µ—Ä–µ–Ω–∏—è",
    ],
    "Bez LS": [
        "–ü–æ–ª—É—á–∏–ª –æ–¥–Ω—É –∏–∑ –∑–∞–≥–∞–¥–æ—á–Ω—ã—Ö –∑–∞–ø–∏—Å–æ–∫ (–≤–º–µ—Å—Ç–µ —Å –ü—É–≥–æ–¥–æ–º)",
        "–ù–∞—Ö–æ–¥–∏–ª –∑–∞–ø–∏—Å–∫–∏ —Å –±–∏–Ω–∞—Ä–Ω—ã–º –∫–æ–¥–æ–º",
    ],
    "CapXenomorph": [
        "–ù–∞—à—ë–ª –∫–∞—Ä—Ç—É —Å –Ω–æ–≤—ã–º–∏ –ø–æ—Ä—Ç–∞–ª–∞–º–∏ –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä—É–≥–∞",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Ä—Ç–∞–ª–æ–≤",
    ],
    "DEB": [
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –æ–∑–µ–ª–µ–Ω–µ–Ω–∏–∏ –≥—Ä–∏–±–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞",
        "–ü–æ–º–æ–≥–∞–ª —Å —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –ì–ù–î–†",
    ],
    "Diamkey": [
        "–ü–µ—Ä–≤—ã–º –∑–∞–º–µ—Ç–∏–ª —Å–º–µ—Ä—Ç–µ–ª—å–Ω—É—é –∑–æ–Ω—É –≤–æ–∫—Ä—É–≥ –æ—Å—Ç—Ä–æ–≤–∞",
        "–ù–∞—à—ë–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–æ–∫",
        "–ó–∞–ø—É—Å–∫–∞–ª —Å–ø—É—Ç–Ω–∏–∫ ‚Äò–í–æ—è–¥–∂–µ—Ä‚Äô",
        "–§–∏–∫—Å–∏—Ä–æ–≤–∞–ª –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–º–µ—Ç –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —Å–æ —Å–ø—É—Ç–Ω–∏–∫–∞",
    ],
    "Dushenka": [
        "–°–æ–∑–¥–∞–ª –∫–∏–æ—Å–∫ –°–û–î–ê ‚Äî –æ—Ü–µ–Ω–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –∏ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç–∏",
        "–ó–∞–ø—É—Å–∫–∞–ª –∞–≤—Ç–æ—Ä—Å–∫–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –Ω–∞ —Å–ø–∞–≤–Ω–µ",
    ],
    "Faradey": [
        "–£—á–∞—Å—Ç–Ω–∏–∫ IV —Å–µ–∑–æ–Ω–∞ –∏ —Å–æ–±—ã—Ç–∏–π –≤–æ–∫—Ä—É–≥ –∑–æ–Ω—ã",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –æ–±—â–∏—Ö –≤—ã–ª–∞–∑–∫–∞—Ö –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è—Ö",
    ],
    "Gel mo": [
        "–û–±—ä—è–≤–∏–ª —Å–µ–±—è –∏–º–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
        "–ü—Ä–∏–Ω–∏–º–∞–ª —É—á–∞—Å—Ç–∏–µ –≤ –ø–æ–ª–∏—Ç–∏–∫–µ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
    ],
    "Hayd1": [
        "–í—Ö–æ–¥–∏–ª –≤ –°–≠–ö–° ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–ø–∞–≤–Ω–∞",
        "–ü–æ–º–æ–≥–∞–ª —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏ —Å–ø–∞–≤–Ω–∞",
    ],
    "HeO": [
        "–£—á–∞—Å—Ç–Ω–∏–∫ –ì–ù–î–†; –∑–∞–º–µ—á–∞–ª —Ñ–µ–Ω–æ–º–µ–Ω ‚Äò–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑‚Äô —É –¥—Ä—É–≥–∏—Ö",
        "–í—Ö–æ–¥–∏–ª –≤ –ø—Ä–æ–µ–∫—Ç—ã –ì–ù–î–† –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ",
    ],
    "Jay Pokerman": [
        "–£—á–∞—Å—Ç–Ω–∏–∫ IV —Å–µ–∑–æ–Ω–∞; —Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –≤ —Ö—Ä–æ–Ω–∏–∫–µ —Å–æ–±—ã—Ç–∏–π",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –ø–æ–∏—Å–∫–∞—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤",
    ],
    "Just S": [
        "–ù–∞—à—ë–ª –ø–æ—Ä—Ç–∞–ª—ã –≤ –≠–Ω–¥ —Å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–º–∏ —Ä–∞–º–∫–∞–º–∏",
        "–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å –∞—Ä–º–æ—Ä-—Å—Ç–µ–Ω–¥–∞–º–∏",
        "–§–∏–∫—Å–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞–ª–æ–≤ –≠–Ω–¥–∞",
    ],
    "KetrinCyst": [
        "–û–±—ä—è–≤–∏–ª–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
        "–ó–∞–Ω–∏–º–∞–ª–∞—Å—å –¥–∏–ø–ª–æ–º–∞—Ç–∏–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º",
    ],
    "KlashRaick": [
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –≤—ã–ª–∞–∑–∫–∞—Ö –≤ –≤–æ–π–¥ –∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É –∑–æ–Ω—ã",
        "–ü–æ–ø–∞–ª –ø–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç ‚Äò—Å–º–µ—Ä—Ç–∏ –ø–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –ø—Ä–∏—á–∏–Ω–µ‚Äô –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ",
    ],
    "KrolikMun": [
        "–õ–æ–º–∞–ª —Ä–∞–º–∫–∏ –ø–æ—Ä—Ç–∞–ª–æ–≤ –≠–Ω–¥–∞, –ø—Ä–æ–≤–µ—Ä—è—è —Ç–µ–æ—Ä–∏—é –ù–µ—Ä–∫–∏–Ω–∞",
        "–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å –º–µ—Ö–∞–Ω–∏–∫–æ–π –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤",
    ],
    "LordSantos": [
        "–ë—ã–ª –≤ —Å–æ—Å—Ç–∞–≤–µ –î—Ä–æ–≤–æ—Å–µ–∫–æ–≤, –∞–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–π",
        "–ò—Å—Å–ª–µ–¥–æ–≤–∞–ª –≤–æ–π–¥ –≤–º–µ—Å—Ç–µ —Å –≥—Ä—É–ø–ø–æ–π",
    ],
    "Mo1vine": [
        "–í—Å—Ç—É–ø–∞–ª –≤ –ì–ù–î–† –∫–∞–∫ —Ç–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –¥–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö",
    ],
    "MoDDyChat": [
        "–ü–æ–¥–æ–±—Ä–∞–ª –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ –∑–∞–ø–∏—Å–∫–∏ –∏ –Ω–∞—à—ë–ª –æ—á–µ—Ä–µ–¥–Ω—É—é",
        "–ü–æ—Å—Ç—Ä–æ–∏–ª –ø—É—à–∫—É –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ –∑–æ–Ω—É –≤ –≠–Ω–¥",
        "–ü–æ–º–æ–≥–∞–ª —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—Ç—å —à–∏—Ñ—Ä—ã –Ω–∞ –∑–∞–ø–∏—Å–∫–∞—Ö",
    ],
    "Nerkin": [
        "–ü—Ä–æ–¥–≤–∏–≥–∞–ª —Ç–µ–æ—Ä–∏—é –æ ‚Äò–¥–æ–±—Ä–æ—Ç–µ‚Äô –æ—Å—Ç—Ä–æ–≤–∞ –∏ –ø–æ—Ä—Ç–∞–ª–æ–≤",
        "–ï–≥–æ —Ç–µ–æ—Ä–∏—è –ø–æ–≤–ª–∏—è–ª–∞ –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å –ø–æ—Ä—Ç–∞–ª–∞–º–∏",
    ],
    "NikiWright": [
        "–ó–∞–º–µ—á–∞–ª–∞ —Ñ–µ–Ω–æ–º–µ–Ω –º–Ω–æ–∂–µ—Å—Ç–≤–∞ ‚Äò–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑‚Äô",
        "–†–∞–±–æ—Ç–∞–ª–∞ —Å–æ —à—Ç–∞–±–æ–º –°–≠–ö–° –Ω–∞ —Å–ø–∞–≤–Ω–µ",
    ],
    "ObsidianTime69": [
        "–ï–≥–æ –±–∞–∑–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å —Ä—è–¥–æ–º —Å –º–µ—Å—Ç–æ–º –ø–∞–¥–µ–Ω–∏—è –º–µ—Ç–µ–æ—Ä–∏—Ç–∞",
        "–í—Å—Ç—É–ø–∞–ª –≤ –í–µ—Ä—Å—Ç–∞–Ω–∏—é –≤ —Ö–æ–¥–µ —Å–µ–∑–æ–Ω–∞",
    ],
    "PWGood": [
        "–û–±—ä—è–≤–∏–ª –≥—Ä–∏–±–Ω–æ–π –æ—Å—Ç—Ä–æ–≤ —Å—É–≤–µ—Ä–µ–Ω–Ω–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–µ–π (–ì–ù–î–†)",
        "–ù–∞–∑–Ω–∞—á–∞–ª –∏ –ø—Ä–∏–Ω–∏–º–∞–ª –¥–∏–ø–ª–æ–º–∞—Ç–æ–≤ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
        "–û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É –º–∏—Ü–µ–ª–∏—è –Ω–∞ –≤—ã–∂–∂–µ–Ω–Ω–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏",
    ],
    "Sanhez": [
        "–ù–∞—Ö–æ–¥–∏–ª —Å–ø–æ—Å–æ–± –æ–±—Ö–æ–¥–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –∑–æ–Ω—ã –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –∑–∞—Ö–æ–¥–∞–º–∏ –≤ –ù–µ–∑–µ—Ä",
        "–ë—ã–ª –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
        "–°–æ–≤–º–µ—Å—Ç–Ω–æ —Å –ü—É–≥–æ–¥–æ–º ‚Äî –¥–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ì–ù–î–†/–í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
    ],
    "SecB": [
        "–°–æ–∑–¥–∞–ª —Å–µ—Ç—å —Å–ø—É—Ç–Ω–∏–∫–æ–≤; –∑–∞–ø—É—Å–∫–∞–ª –∏ –æ–±–Ω–æ–≤–ª—è–ª –∏—Ö –ø—Ä–æ—à–∏–≤–∫–∏",
        "–°—Ç—Ä–æ–∏–ª –∏ –∑–∞–ø—É—Å–∫–∞–ª –º–∞–≥–Ω–∏—Ç—ã –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ",
        "–°–ø—É—Ç–Ω–∏–∫–∏ –ø–æ–ª—É—á–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–¥–∞—Ä–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –º–µ—Ç–µ–æ—Ä–∏—Ç–µ",
    ],
    "SirPiligrim": [
        "–ù–∞—à—ë–ª –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏; –≤–∏–¥–µ–ª ‚Äò–∫—Ä–∞—Å–Ω—ã–µ –≥–ª–∞–∑–∞‚Äô",
        "–ò—Å—Å–ª–µ–¥–æ–≤–∞–ª –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ ‚Äò–ó–∞–º–µ—Ç–∫–∏‚Äô –∏ ‚Äò–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏‚Äô",
    ],
    "SnrGiraffe": [
        "–ü–æ–ª—É—á–∞–ª –æ–¥–Ω—É –∏–∑ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–æ–∫",
        "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –æ–∑–µ–ª–µ–Ω–µ–Ω–∏–∏ –≥—Ä–∏–±–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞",
    ],
    "TheKlyde": [
        "–ó–∞–º–µ—á–∞–ª —Ñ–µ–Ω–æ–º–µ–Ω ‚Äò–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑‚Äô",
        "–°–æ–æ–±—â–∞–ª –æ —Å—Ç—Ä–∞–Ω–Ω–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø–∏—Ç–æ–º—Ü–µ–≤",
    ],
    "Venazar": [
        "–í—Å—Ç—É–ø–∞–ª –≤ –í–µ—Ä—Å—Ç–∞–Ω–∏—é; —ç–ª—å—Ñ–∏–π—Å–∫–æ–º—É –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤—É –¥–∞–ª–∏ –∞–≤—Ç–æ–Ω–æ–º–∏—é",
        "–°–≤—è–∑–∞–Ω —Å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º —Å—Ç–∞—Ç—É—Å–æ–º –≠–ª—å—Ñ–∏–π—Å–∫–æ–≥–æ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞",
    ],
    "Zakviel": [
        "–ù–∞–±–ª—é–¥–∞–ª –ø—Ä–æ–ª—ë—Ç –±–µ–ª—ã—Ö –∫–æ–º–µ—Ç –∏ –¥—Ä—É–≥–∏–µ —è–≤–ª–µ–Ω–∏—è",
        "–§–∏–∫—Å–∏—Ä–æ–≤–∞–ª –Ω–µ–±–µ—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Ö—Ä–æ–Ω–∏–∫–µ",
    ],
}

# –°—Ç—Ä–æ–∫–æ–≤—ã–µ –∫—Ä–∞—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (IV —Å–µ–∑–æ–Ω)
DESCR = {
    "Alcest M": "–±—ã–≤—à–∏–π –î—Ä–æ–≤–æ—Å–µ–∫; –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å. –ù–∞—Ö–æ–¥–∏–ª –∑–∞–ø–∏—Å–∫–∏, –≤–µ–¥—ë—Ç —Ä–∞–¥–∏–æ—Ç–µ–ª–µ—Å–∫–æ–ø, –∑–∞–º–µ—á–∞–ª –º–µ—Ç–µ–æ—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è",
    "Alfedov": "–±—ã–≤—à–∏–π –î—Ä–æ–≤–æ—Å–µ–∫; –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å, —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –≤—ã–ª–∞–∑–∫–∞—Ö –≤ –≤–æ–π–¥ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è—Ö",
    "Arlabus": "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ß–°–í–ñ–î (–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏); –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞",
    "BarsiGold": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –≤–æ–π–¥–∞ –∏ –ø–æ—Ä—Ç–∞–ª–æ–≤; –ø–æ–º–æ–≥ –ø–æ–ø–∞—Å—Ç—å –≤ –≠–Ω–¥",
    "Bez LS": "–ò–≥—Ä–æ–∫ –ì–ù–î–†; —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ —Å–æ–±—ã—Ç–∏—è—Ö —Å –∑–∞–ø–∏—Å–∫–∞–º–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏",
    "CapXenomorph": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å; –Ω–∞—Ö–æ–¥–∏–ª –∫–∞—Ä—Ç—ã –ø–æ—Ä—Ç–∞–ª–æ–≤ –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä—É–≥–∞",
    "DEB": "–£—á–∞—Å—Ç–Ω–∏–∫ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏/—Å–æ—é–∑–Ω–∏–∫; —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –æ–∑–µ–ª–µ–Ω–µ–Ω–∏–∏ –≥—Ä–∏–±–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞",
    "Diamkey": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å —Ç–∞–π–Ω; –Ω–∞—Ö–æ–¥–∏–ª –∑–∞–ø–∏—Å–∫–∏, –≤–ª–∞–¥–µ–ª–µ—Ü —Å–ø—É—Ç–Ω–∏–∫–∞ ‚Äò–í–æ—è–¥–∂–µ—Ä‚Äô",
    "Dushenka": "–°–æ–∑–¥–∞—Ç–µ–ª—å –∫–∏–æ—Å–∫–∞ –°–û–î–ê ‚Äî —Å–ª—É–∂–±–∞ –æ—Ü–µ–Ω–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç–∏",
    "Faradey": "—É—á–∞—Å—Ç–Ω–∏–∫ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏; –Ω–µ—Ç—É —á–µ—Ç–∫–æ–≥–æ –∫–∞–Ω–æ–Ω–∞",
    "Gel mo": "–í–µ—Ä—Å—Ç–∞–Ω–∏—è; –ø–æ–∑–¥–Ω–µ–µ –æ–±—ä—è–≤–∏–ª —Å–µ–±—è –∏–º–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
    "Hayd1": "–£—á–∞—Å—Ç–Ω–∏–∫ –°–≠–ö–° ‚Äî –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ –≠–∫—Å–ø–µ—Ä—Ç—ã –ö–æ–Ω—Ç—Ä–æ–ª—è –°–ø–∞–≤–Ω–∞",
    "HeO": "–∞—Ä—Ö–∞–Ω–≥–µ–ª; —É—á–∞—Å—Ç–Ω–∏–∫ –ì–ù–î–† –∏ –°–û–í–¢",
    "Jay Pokerman": "—É—á–∞—Å–Ω–∏–∫ –ù—å—é-–î–∂–µ—Å–∏–∫–æ; —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å –ø–æ—Ä—Ç–∞–ª–æ–≤ –≤ —ç–Ω–¥",
    "Just S": "–±—ã–≤—à–∏–π –î—Ä–æ–≤–æ—Å–µ–∫; –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –ø–æ—Ä—Ç–∞–ª–æ–≤ –≠–Ω–¥–∞; —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –∞—Ä–º–æ—Ä-—Å—Ç–µ–Ω–¥–∞–º–∏",
    "KetrinCyst": "–õ–∏–¥–µ—Ä –∏ –∏–¥–µ–æ–ª–æ–≥ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏; –∫–ª—é—á–µ–≤–∞—è —Ñ–∏–≥—É—Ä–∞ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π",
    "KlashRaick": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å; —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –≤—ã–ª–∞–∑–∫–∞—Ö –∑–∞ –∑–æ–Ω—É –∏ –≤ –≤–æ–π–¥–µ",
    "KrolikMun": "–õ–æ–º–∞–ª —Ä–∞–º–∫–∏ –ø–æ—Ä—Ç–∞–ª–æ–≤ –≠–Ω–¥–∞, —Å–ª–µ–¥—É—è —Ç–µ–æ—Ä–∏–∏ –ù–µ—Ä–∫–∏–Ω–∞ –æ ¬´–¥–æ–±—Ä–æ—Ç–µ¬ª –æ—Å—Ç—Ä–æ–≤–∞",
    "LordSantos": "–±—ã–≤—à–∏–π –î—Ä–æ–≤–æ—Å–µ–∫; –∞–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–π",
    "Mo1vine": "–í—Å—Ç—É–ø–∞–ª –≤ –ì–ù–î–† –∫–∞–∫ —Ç–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
    "MoDDyChat": "–†–µ—à–∞–ª —à–∏—Ñ—Ä—ã –∑–∞–ø–∏—Å–æ–∫; –ø–æ—Å—Ç—Ä–æ–∏–ª –ø—É—à–∫—É –≤ –≠–Ω–¥; —É—á–∞—Å—Ç–Ω–∏–∫ –≥—Ä–æ–º–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π",
    "Nerkin": "–ê–≤—Ç–æ—Ä —Ç–µ–æ—Ä–∏–∏ –æ –¥–æ–±—Ä–æ–º –æ—Å—Ç—Ä–æ–≤–µ –∏ –ø–æ—Ä—Ç–∞–ª–∞—Ö; –º–µ–¥–∏–∞-—É—á–∞—Å—Ç–Ω–∏–∫",
    "NikiWright": "–£—á–∞—Å—Ç–Ω–∏—Ü–∞ –°–≠–ö–°; –∑–∞–º–µ—á–∞–ª–∞ —Ñ–µ–Ω–æ–º–µ–Ω ‚Äò–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑‚Äô",
    "ObsidianTime69": "–ë–∞–∑–∞ –±–ª–∏–∑ –º–µ—Å—Ç–∞ –ø–∞–¥–µ–Ω–∏—è –º–µ—Ç–µ–æ—Ä–∏—Ç–∞; –≤—Å—Ç—É–ø–∞–ª –≤ –í–µ—Ä—Å—Ç–∞–Ω–∏—é; –±–∞–∑–∞ –∂–∏–≤–∞—è!!",
    "PWGood": "–õ–∏–¥–µ—Ä –ì–ù–î–†; –¥–∏–ø–ª–æ–º–∞—Ç –∏ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ –≥—Ä–∏–±–Ω–æ–º –æ—Å—Ç—Ä–æ–≤–µ",
    "Sanhez": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –∑–æ–Ω—ã; –¥–∏–ø–ª–æ–º–∞—Ç –ì–ù–î–†/–í–µ—Ä—Å—Ç–∞–Ω–∏–∏; –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ –í–µ—Ä—Å—Ç–∞–Ω–∏–∏",
    "SecB": "–±—ã–≤—à–∏–π –î—Ä–æ–≤–æ—Å–µ–∫; –°–æ–∑–¥–∞—Ç–µ–ª—å —Å–µ—Ç–∏ —Å–ø—É—Ç–Ω–∏–∫–æ–≤; –∞–ø–ø–∞—Ä–∞—Ç—É—Ä–∞, –º–∞–≥–Ω–∏—Ç—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—à–∏–≤–∫–∏",
    "SirPiligrim": "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫; –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏, –∑–∞–≥–∞–¥–æ—á–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏",
    "SnrGiraffe": "–ñ–∏—Ä–∞—Ñ; –ø–æ–ª—É—á–∞–ª –∑–∞–ø–∏—Å–∫–∏; —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –æ–∑–µ–ª–µ–Ω–µ–Ω–∏–∏ –≥—Ä–∏–±–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞",
    "TheKlyde": "–ù–∞–±–ª—é–¥–∞–ª —Ñ–µ–Ω–æ–º–µ–Ω ‚Äò–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑‚Äô; –∑–∞–º–µ—Ç–∫–∏ –æ –ø–∏—Ç–æ–º—Ü–∞—Ö –∏ –±–∞–∑–µ",
    "Venazar": "–í—Å—Ç—É–ø–∞–ª –≤ –í–µ—Ä—Å—Ç–∞–Ω–∏—é; –≠–ª—å—Ñ–∏–π—Å–∫–æ–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ –ø–æ–ª—É—á–∏–ª–æ –∞–≤—Ç–æ–Ω–æ–º–∏—é",
    "Zakviel": "–ù–∞–±–ª—é–¥–∞–ª –∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —è–≤–ª–µ–Ω–∏—è (–∫–æ–º–µ—Ç—ã)",
}

# –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–∞–∫—Ç–∞ –ø–æ –Ω–∏–∫—É (—Ñ–æ–ª–±—ç–∫ ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)
def pick_fact(nick: str) -> str:
    lst = INFO.get(nick)
    if isinstance(lst, list) and lst:
        return random.choice(lst)
    return DESCR.get(nick, "–£—á–∞—Å—Ç–Ω–∏–∫ MineShield IV")

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è (—Å–∏–Ω–æ–Ω–∏–º—ã/—Ä—É—Å—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã/–∫—Ä–∞—Ç–∫–∏–µ —Ñ–æ—Ä–º—ã)
ALIASES = {
    # –†—É—Å—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
    "–ê–ª—å—Ü–µ—Å—Ç": "Alcest M",
    "–ê–ª—Ü–µ—Å—Ç": "Alcest M",
    "–ê–ª—Ñ—ë–¥–æ–≤": "Alfedov",
    "–ê–ª—Ñ–µ–¥–æ–≤": "Alfedov",
    "–ê—Ä–ª–∞–±—É—Å": "Arlabus",
    "–ë–∞—Ä—Å–∏": "BarsiGold",
    "–ë–õ–°": "Bez LS",
    "–ë–µ–∑ –õ–°": "Bez LS",
    "–ë–∞–ª–±–µ—Å": "Bez LS",
    "–ö—ç–ø –ö—Å–µ–Ω–æ–º–æ—Ä—Ñ": "CapXenomorph",
    "–ö—ç–ø": "CapXenomorph",
    "–ö—Å–µ–Ω–æ–º–æ—Ä—Ñ": "CapXenomorph",
    "–î–µ–±": "DEB",
    "–î–∏–∞–º–∫–µ–π": "Diamkey",
    "–î—É—à–µ–Ω—å–∫–∞": "Dushenka",
    "–§–∞—Ä–∞–¥–µ–π": "Faradey",
    "–ì–µ–ª—å–º–æ": "Gel mo",
    "–•–∞–π–¥–∏": "Hayd1",
    "–ù–µ–æ": "HeO",
    "–î–∂–µ–π –ü–æ–∫–µ—Ä–º–∞–Ω": "Jay Pokerman",
    "–î–∂–µ–π": "Jay Pokerman",
    "–ü–æ–∫–µ—Ä–º–∞–Ω": "Jay Pokerman",
    "–î–∂–∞—Å—Ç": "Just S",
    "–ö—ç—Ç—Ä–∏–Ω": "KetrinCyst",
    "–ö–ª—ç—à": "KlashRaick",
    "–ö—Ä–æ–ª–∏–∫ –ú—É–Ω": "KrolikMun",
    "–°–∞–Ω—Ç–æ—Å": "LordSantos",
    "–ú–æ–ª–≤–∏–Ω": "Mo1vine",
    "–ú–æ–¥–¥–∏–ß–∞—Ç": "MoDDyChat",
    "–ú–æ–¥–¥–∏": "MoDDyChat",
    "–ù–µ—Ä–∫–∏–Ω": "Nerkin",
    "–ù–∏–∫–∏": "NikiWright",
    "–û–±—Å–∏–¥–∏–∞–Ω–¢–∞–π–º": "ObsidianTime69",
    "–ü—É–≥–æ–¥": "PWGood",
    "–°–∞–Ω—á–µ–∑": "Sanhez",
    "–°–µ–∫–±–∏": "SecB",
    "–ü–∏–ª–∏–≥—Ä–∏–º": "SirPiligrim",
    "–ñ–∏—Ä–∞—Ñ": "SnrGiraffe",
    "–ö–ª–∞–π–¥": "TheKlyde",
    "–í–µ–Ω–∞–∑–∞—Ä": "Venazar",
    "–ó–∞–∫–≤–∏–µ–ª—å": "Zakviel",
}

# –û–±—Ä–∞—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –Ω–∏–∫–∞ —Å–ø–∏—Å–æ–∫ –µ–≥–æ —Ä—É—Å—Å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤/—Å–æ–∫—Ä–∞—â–µ–Ω–∏–π
ALIASES_BY_CANON = {}
for _alias, _canon in ALIASES.items():
    ALIASES_BY_CANON.setdefault(_canon, []).append(_alias)

# –£–ø–æ—Ä—è–¥–æ—á–∏–º –≤–∞—Ä–∏–∞–Ω—Ç—ã: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–æ—Ä–æ—á–µ, –∑–∞—Ç–µ–º –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É (–ø–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ)
for _variants in ALIASES_BY_CANON.values():
    _variants.sort(key=lambda s: (len(_norm(s)), _norm(s)))

def _fmt_with_aliases(nick: str) -> str:
    """–í–µ—Ä–Ω—ë—Ç —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ "Nick (—Ä—É—Å, —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è)" –µ—Å–ª–∏ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã."""
    aliases = ALIASES_BY_CANON.get(nick, [])
    return f"{nick} (" + ", ".join(aliases) + ")" if aliases else nick

INFO_NORM = { _norm(k): k for k in DESCR.keys() }
for alias, canonical in ALIASES.items():
    INFO_NORM[_norm(alias)] = canonical

@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π Telegram –±–æ—Ç. –ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å!\n–ù–∞–ø–∏—à–∏ /help —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.")

@bot.message_handler(commands=['hello'])
def send_hello(message):
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?")

@bot.message_handler(commands=['bye'])
def send_bye(message):
    bot.send_message(message.chat.id, "–ü–æ–∫–∞! –£–¥–∞—á–∏!")

@bot.message_handler(commands=['help'])
def send_help(message):
    help_text = (
        "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
        "/start ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞\n"
        "/hello ‚Äî –ø–æ–∑–¥–æ—Ä–æ–≤–∞—Ç—å—Å—è\n"
        "/bye ‚Äî –ø–æ–ø—Ä–æ—â–∞—Ç—å—Å—è\n"
        "/menu ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —É–¥–æ–±–Ω–æ–µ –º–µ–Ω—é\n"
        "/dice ‚Äî –±—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏ (d6)\n"
        "/coin ‚Äî –ø–æ–¥–±—Ä–æ—Å–∏—Ç—å –º–æ–Ω–µ—Ç–∫—É\n"
        "/mineshield, /ms4, /—É—á–∞—Å—Ç–Ω–∏–∫–∏ ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–∏–∫–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ MineShield IV (—Å —Ä—É—Å—Å–∫–∏–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏/—Å–æ–∫—Ä–∞—â–µ–Ω–∏—è–º–∏)\n"
        "/msinfo, /ms4info, /–æ–ø–∏—Å–∞–Ω–∏—è ‚Äî –∫—Ä–∞—Ç–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏ –æ –∫–∞–∂–¥–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ (—Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏)\n"
        "/who <–Ω–∏–∫>, /mswho <–Ω–∏–∫>, /–∫—Ç–æ <–Ω–∏–∫> ‚Äî –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –Ω–∏–∫—É\n"
        "/fact [–Ω–∏–∫], /msfact [–Ω–∏–∫], /—Ñ–∞–∫—Ç [–Ω–∏–∫] ‚Äî —Ä–∞–Ω–¥–æ–º–Ω—ã–π —Ñ–∞–∫—Ç (–ø–æ –Ω–∏–∫—É –∏–ª–∏ —Å–ª—É—á–∞–π–Ω—ã–π)\n"
        "(–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–∏–∫–æ–≤: —Ä—É—Å/–∞–Ω–≥–ª, —Å –ø—Ä–æ–±–µ–ª–∞–º–∏/–±–µ–∑)\n"
        "–ê —Ç–∞–∫–∂–µ –º–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å ‚Äî —è –ø–æ–≤—Ç–æ—Ä—é —Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ."
    )
    bot.send_message(message.chat.id, help_text)

@bot.message_handler(commands=['menu'])
def send_menu(message):
    kb = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=3)
    kb.add(
        types.KeyboardButton('/help'),
        types.KeyboardButton('/mineshield'),
        types.KeyboardButton('/msinfo'),
        types.KeyboardButton('/who'),
        types.KeyboardButton('/fact'),
        types.KeyboardButton('/dice'),
        types.KeyboardButton('/coin'),
    )
    bot.send_message(message.chat.id, "–ú–µ–Ω—é –∫–æ–º–∞–Ω–¥:", reply_markup=kb)

@bot.message_handler(commands=['mineshield', 'ms4', '—É—á–∞—Å—Ç–Ω–∏–∫–∏'])
def send_mineshield_list(message):
    nicks = [
        "Alcest M",
        "Alfedov",
        "Arlabus",
        "BarsiGold",
        "Bez LS",
        "CapXenomorph",
        "DEB",
        "Diamkey",
        "Dushenka",
        "Faradey",
        "Gel mo",
        "Hayd1",
        "HeO",
        "Jay Pokerman",
        "Just S",
        "KetrinCyst",
        "KlashRaick",
        "KrolikMun",
        "LordSantos",
        "Mo1vine",
        "MoDDyChat",
        "Nerkin",
        "NikiWright",
        "ObsidianTime69",
        "PWGood",
        "Sanhez",
        "SecB",
        "SirPiligrim",
        "SnrGiraffe",
        "TheKlyde",
        "Venazar",
        "Zakviel",
    ]
    reply_text = "–£—á–∞—Å—Ç–Ω–∏–∫–∏ MineShield IV (–Ω–∏–∫ + —Ä—É—Å—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã/—Å–æ–∫—Ä–∞—â–µ–Ω–∏—è):\n" + "\n".join(
        f"‚Ä¢ {_fmt_with_aliases(nick)}" for nick in nicks
    )
    bot.send_message(message.chat.id, reply_text)

@bot.message_handler(commands=['dice'])
def cmd_dice(message):
    roll = random.randint(1, 6)
    bot.send_message(message.chat.id, f"üé≤ –í—ã–ø–∞–ª–æ: {roll}")

@bot.message_handler(commands=['coin'])
def cmd_coin(message):
    side = random.choice(['–û—Ä–µ–ª', '–†–µ—à–∫–∞'])
    bot.send_message(message.chat.id, f"ü™ô –ú–æ–Ω–µ—Ç–∫–∞: {side}")

@bot.message_handler(commands=['msinfo', 'ms4info', '–æ–ø–∏—Å–∞–Ω–∏—è'])
def send_mineshield_info(message):
    # –°—Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç. –î–ª—è –Ω–∏–∫–æ–≤ –±–µ–∑ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å—å
    lines = []
    for nick in [
        "Alcest M","Alfedov","Arlabus","BarsiGold","Bez LS","CapXenomorph","DEB","Diamkey",
        "Dushenka","Faradey","Gel mo","Hayd1","HeO","Jay Pokerman","Just S","KetrinCyst",
        "KlashRaick","KrolikMun","LordSantos","Mo1vine","MoDDyChat","Nerkin","NikiWright",
        "ObsidianTime69","PWGood","Sanhez","SecB","SirPiligrim","SnrGiraffe","TheKlyde",
        "Venazar","Zakviel",
    ]:
        desc = DESCR.get(nick, "–£—á–∞—Å—Ç–Ω–∏–∫ MineShield IV")
        lines.append(f"‚Ä¢ {_fmt_with_aliases(nick)} ‚Äî {desc}")
    header = "–ö—Ä–∞—Ç–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ MineShield IV (—Å —Ä—É—Å—Å–∫–∏–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏/—Å–æ–∫—Ä–∞—â–µ–Ω–∏—è–º–∏):\n(–ò—Å—Ç–æ—á–Ω–∏–∫: —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ –≤–∏–∫–∏ ‚Äî mineshield.fandom.com)\n"
    text = header + "\n".join(lines)
    bot.send_message(message.chat.id, text)

@bot.message_handler(commands=['fact', 'msfact', '—Ñ–∞–∫—Ç'])
def send_random_fact(message):
    # /fact <–Ω–∏–∫> ‚Äî —Ñ–∞–∫—Ç –ø–æ –Ω–∏–∫—É; /fact ‚Äî —Ñ–∞–∫—Ç –ø–æ —Å–ª—É—á–∞–π–Ω–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É
    parts = message.text.split(maxsplit=1)
    if len(parts) > 1 and parts[1].strip():
        query = parts[1].strip()
        key = INFO_NORM.get(_norm(query))
        if not key:
            # –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
            qn = _norm(query)
            candidates = [k for n,k in INFO_NORM.items() if n.startswith(qn) or qn in n]
            key = candidates[0] if candidates else None
        if key:
            bot.send_message(message.chat.id, f"{_fmt_with_aliases(key)} ‚Äî {pick_fact(key)}")
            return
        bot.send_message(message.chat.id, "–ù–µ –Ω–∞—à—ë–ª —Ç–∞–∫–æ–≥–æ –Ω–∏–∫–∞. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /fact [–Ω–∏–∫]. –ü—Ä–∏–º–µ—Ä: /fact KetrinCyst")
        return
    # –°–ª—É—á–∞–π–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫
    key = random.choice(list(DESCR.keys()))
    bot.send_message(message.chat.id, f"{_fmt_with_aliases(key)} ‚Äî {pick_fact(key)}")

@bot.message_handler(commands=['who', 'mswho', '–∫—Ç–æ'])
def send_who(message):
    # –û–∂–∏–¥–∞–µ—Ç—Å—è: /who <–Ω–∏–∫>
    parts = message.text.split(maxsplit=1)
    if len(parts) < 2:
        prompt = bot.send_message(
            message.chat.id,
            "–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (–º–æ–∂–Ω–æ –ø–æ-—Ä—É—Å—Å–∫–∏, —Ä–∞–±–æ—Ç–∞—é—Ç –∞–ª–∏–∞—Å—ã):",
            reply_markup=types.ForceReply(selective=False)
        )
        bot.register_next_step_handler(prompt, who_query_step)
        return
    query = parts[1].strip()
    key = INFO_NORM.get(_norm(query))
    if not key:
        # –ü–æ–ø—Ä–æ–±—É–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –Ω–∞—á–∞–ª—É –∏–ª–∏ –≤—Ö–æ–∂–¥–µ–Ω–∏—é
        qn = _norm(query)
        candidates = [k for n,k in INFO_NORM.items() if n.startswith(qn) or qn in n]
        key = candidates[0] if candidates else None
    if key:
        bot.send_message(message.chat.id, f"{_fmt_with_aliases(key)} ‚Äî {DESCR[key]}")
    else:
        bot.send_message(message.chat.id, "–ù–µ –Ω–∞—à—ë–ª —Ç–∞–∫–æ–≥–æ –Ω–∏–∫–∞. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /mineshield –¥–ª—è —Å–ø–∏—Å–∫–∞.")

def who_query_step(message):
    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ ForceReply –¥–ª—è /who
    query = (message.text or '').strip()
    if not query:
        bot.send_message(message.chat.id, "–ü—É—Å—Ç–æ–π –Ω–∏–∫. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞: /who")
        return
    key = INFO_NORM.get(_norm(query))
    if not key:
        qn = _norm(query)
        candidates = [k for n,k in INFO_NORM.items() if n.startswith(qn) or qn in n]
        key = candidates[0] if candidates else None
    if key:
        bot.send_message(message.chat.id, f"{_fmt_with_aliases(key)} ‚Äî {DESCR[key]}")
    else:
        bot.send_message(message.chat.id, "–ù–µ –Ω–∞—à—ë–ª —Ç–∞–∫–æ–≥–æ –Ω–∏–∫–∞. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Å—è /mineshield.")

# –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∏–∫ ‚Äî –≤–µ—Ä–Ω—ë–º –æ–ø–∏—Å–∞–Ω–∏–µ
@bot.message_handler(func=lambda m: (
    bool(getattr(m, 'text', None))
    and _norm(m.text) in INFO_NORM
    and not (getattr(m, 'reply_to_message', None) and isinstance(m.reply_to_message, types.Message) and '–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞' in (m.reply_to_message.text or ''))
))
def send_info_by_plain_nick(message):
    key = INFO_NORM[_norm(message.text)]
    bot.send_message(message.chat.id, f"{_fmt_with_aliases(key)} ‚Äî {DESCR[key]}")


# –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ small-talk (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è/–ø—Ä–æ—â–∞–Ω–∏—è/—Å–ø–∞—Å–∏–±–æ/–∫–∞–∫ –¥–µ–ª–∞)
GREETINGS = {"–ø—Ä–∏–≤–µ—Ç", "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π", "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ", "hi", "hello", "–¥–∞—Ä–æ–≤–∞", "–∫—É", "qq"}
FAREWELLS = {"–ø–æ–∫–∞", "–¥–æ –≤—Å—Ç—Ä–µ—á–∏", "—É–≤–∏–¥–∏–º—Å—è", "–±–∞–π", "bye"}
THANKS = {"—Å–ø–∞—Å–∏–±–æ", "–±–ª–∞–≥–æ–¥–∞—Ä—é", "thanks", "thx"}
HOW_ARE_YOU = {"–∫–∞–∫ –¥–µ–ª–∞", "–∫–∞–∫ —Ç—ã", "–∫–∞–∫ –ø–æ–∂–∏–≤–∞–µ—à—å"}

@bot.message_handler(func=lambda message: True)
def echo_all(message):
    text = (message.text or "").strip()
    norm = _norm(text)
    # small-talk
    if norm in { _norm(x) for x in GREETINGS }:
        bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –ø–æ–º–æ—á—å? –ù–∞–∂–º–∏ /menu –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.")
        return
    if norm in { _norm(x) for x in FAREWELLS }:
        bot.send_message(message.chat.id, "–ü–æ–∫–∞! –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è üòä")
        return
    if norm in { _norm(x) for x in THANKS }:
        bot.send_message(message.chat.id, "–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞!")
        return
    if any(phrase in text.lower() for phrase in HOW_ARE_YOU):
        bot.send_message(message.chat.id, "–û—Ç–ª–∏—á–Ω–æ! –Ø –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å. –ü–æ–ø—Ä–æ–±—É–π /fact –∏–ª–∏ /who <–Ω–∏–∫>.")
        return
    # fallback ‚Äî —ç—Ö–æ
    bot.send_message(message.chat.id, text)

bot.polling()
